{"version":3,"file":"static/webpack/static/development/pages/login.js.8343368c5b11233edbf5.hot-update.js","sources":["webpack:///./src/store/actions/authActions.ts"],"sourcesContent":["import axios from '../../axios-orders';\nimport setAuthorizationToken from '../../utils/setAuthorization';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'js-cookie';\n\nimport { SET_CURRENT_USER } from './types';\n\nexport function setCurrentUser(user: {}) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\n\nexport function logout() {\n  return (dispatch: (arg0: { type: string; user: {} }) => void) => {\n    cookie.remove('jwtToken');\n    setAuthorizationToken(false);\n    dispatch(setCurrentUser({}));\n  };\n}\n\nexport function login(data: any) {\n  return async (dispatch: (arg0: { type: string; user: {} }) => void) => {\n    const res = await axios.post('/login', data);\n    const token = res.data.token;\n    const user = res.data.user;\n    cookie.set('jwtToken', token);\n    cookie.set('user', user);\n    setAuthorizationToken(token);\n    dispatch(setCurrentUser(jwt.decode(token)));\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AASA;;;;A","sourceRoot":""}