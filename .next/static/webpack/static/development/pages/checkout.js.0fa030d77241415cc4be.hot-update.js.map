{"version":3,"file":"static/webpack/static/development/pages/checkout.js.0fa030d77241415cc4be.hot-update.js","sources":["webpack:///./pages/checkout.tsx","webpack:///./src/lib/auth.ts"],"sourcesContent":["import CheckOut from '../src/containers/CheckOut/CheckOut';\nimport { authInitialProps } from '../src/lib/auth';\n\nconst CheckOutPage = () => {\n  return (\n    <>\n      <CheckOut />\n    </>\n  );\n};\n\nCheckOutPage.getInitialProps = authInitialProps(true, '/login');\n\nexport default CheckOutPage;\n","import Router from 'next/router';\nimport { NextPageContext } from 'next';\nimport cookie from 'js-cookie';\nimport { IUser } from '../components/Products/Show/Show';\n\nexport const authInitialProps = (isProtectedRoute: boolean, path: string) => ({\n  res\n}: NextPageContext) => {\n  const isAuthenticated = checkIfAuthenticated();\n\n  if (isProtectedRoute && !isAuthenticated) {\n    return redirectUser(res, path);\n  }\n\n  return { isAuthenticated };\n};\n\nexport const checkIfAuthenticated = (): boolean => {\n  const auth = cookie.get('jwtToken');\n\n  return auth ? true : false;\n};\n\nexport const getUserFromCookie = (): IUser | null => {\n  const authUser = cookie.get('jwtToken');\n\n  return authUser ? JSON.parse(authUser) : null;\n};\n\nconst redirectUser = (res: any, path: string) => {\n  if (res) {\n    res.redirect(302, path);\n  }\n  Router.replace(path);\n};\n"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAVA;AAYA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}