{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from '../../../../axios-orders';\nimport Link from 'next/link';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport Router from 'next/router';\nimport { MDBBtn, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText // MDBTooltip,\n} from 'mdbreact';\n\nvar Table = function Table(props) {\n  var router = useRouter();\n  var id = router.query.id;\n\n  var deleted =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var token;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              token = cookie.get('jwtToken');\n              axios[\"delete\"](\"/products/\".concat(id), {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              }).then(function () {\n                Router.push('/products');\n              })[\"catch\"](function (err) {\n                return console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function deleted() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  console.log(props.userId);\n  console.log(props.obj.owner);\n  return __jsx(React.Fragment, null, __jsx(MDBCardImage, {\n    cascade: true,\n    top: true,\n    alt: \"\",\n    src: props.obj.image,\n    waves: true\n  }), __jsx(MDBCardBody, {\n    cascade: true,\n    className: \"text-center\"\n  }, __jsx(MDBCardTitle, {\n    tag: \"h5\"\n  }, __jsx(\"strong\", null, \"Name: \"), props.obj.name), __jsx(MDBCardTitle, {\n    tag: \"h5\"\n  }, __jsx(\"strong\", null, \"Brand: \"), props.obj.brand), __jsx(MDBCardTitle, null, __jsx(\"span\", {\n    className: \"float-left\"\n  }, __jsx(\"span\", {\n    className: \"discount mx-2\"\n  }, \"\\u20A6 \", props.obj.price.tofixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')))), __jsx(MDBCardText, null, props.obj.description), props.userId === props.obj.owner && __jsx(\"div\", null, __jsx(Link, {\n    href: \"/edit?id=\".concat(props.obj._id),\n    as: \"/edit/\".concat(props.obj._id)\n  }, __jsx(\"a\", {\n    className: \"btn btn-primary btn-sm\"\n  }, \"Edit\")), __jsx(MDBBtn, {\n    onClick: deleted,\n    color: \"danger btn-sm\"\n  }, \"Delete\"))));\n};\n\nexport default Table;","map":{"version":3,"sources":["/home/noah/Desktop/ninostyle-next-typescript/src/components/Products/Show/Table/Table.tsx"],"names":["React","axios","Link","cookie","useRouter","Router","MDBBtn","MDBCardBody","MDBCardImage","MDBCardTitle","MDBCardText","Table","props","router","id","query","deleted","token","get","headers","Authorization","then","push","err","console","log","userId","obj","owner","image","name","brand","price","tofixed","replace","description","_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SACEC,MADF,EAEEC,WAFF,EAGEC,YAHF,EAIEC,YAJF,EAKEC,WALF,CAME;AANF,OASO,UATP;;AAwBA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAqB;AACjC,MAAMC,MAAM,GAAGT,SAAS,EAAxB;AADiC,MAEzBU,EAFyB,GAElBD,MAAM,CAACE,KAFW,CAEzBD,EAFyB;;AAIjC,MAAME,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,KADQ,GACAd,MAAM,CAACe,GAAP,CAAW,UAAX,CADA;AAGdjB,cAAAA,KAAK,UAAL,qBACuBa,EADvB,GAC6B;AACzBK,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAYH,KAAZ;AADN;AADgB,eAD7B,EAMGI,IANH,CAMQ,YAAM;AACVhB,gBAAAA,MAAM,CAACiB,IAAP,CAAY,WAAZ;AACD,eARH,WASS,UAAAC,GAAG;AAAA,uBAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,eATZ;;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPP,OAAO;AAAA;AAAA;AAAA,KAAb;;AAcAQ,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACc,MAAlB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACe,GAAN,CAAUC,KAAtB;AAEA,SACE,4BACE,MAAC,YAAD;AAAc,IAAA,OAAO,MAArB;AAAsB,IAAA,GAAG,MAAzB;AAA0B,IAAA,GAAG,EAAC,EAA9B;AAAiC,IAAA,GAAG,EAAEhB,KAAK,CAACe,GAAN,CAAUE,KAAhD;AAAuD,IAAA,KAAK;AAA5D,IADF,EAGE,MAAC,WAAD;AAAa,IAAA,OAAO,MAApB;AAAqB,IAAA,SAAS,EAAC;AAA/B,KACE,MAAC,YAAD;AAAc,IAAA,GAAG,EAAC;AAAlB,KACE,+BADF,EAEGjB,KAAK,CAACe,GAAN,CAAUG,IAFb,CADF,EAKE,MAAC,YAAD;AAAc,IAAA,GAAG,EAAC;AAAlB,KACE,gCADF,EAEGlB,KAAK,CAACe,GAAN,CAAUI,KAFb,CALF,EASE,MAAC,YAAD,QACE;AAAM,IAAA,SAAS,EAAC;AAAhB,KACE;AAAM,IAAA,SAAS,EAAC;AAAhB,gBACKnB,KAAK,CAACe,GAAN,CAAUK,KAAV,CAAgBC,OAAhB,CAAwB,CAAxB,EAA2BC,OAA3B,CAAmC,mBAAnC,EAAwD,KAAxD,CADL,CADF,CADF,CATF,EAgBE,MAAC,WAAD,QAActB,KAAK,CAACe,GAAN,CAAUQ,WAAxB,CAhBF,EAkBGvB,KAAK,CAACc,MAAN,KAAiBd,KAAK,CAACe,GAAN,CAAUC,KAA3B,IACC,mBACE,MAAC,IAAD;AACE,IAAA,IAAI,qBAAchB,KAAK,CAACe,GAAN,CAAUS,GAAxB,CADN;AAEE,IAAA,EAAE,kBAAWxB,KAAK,CAACe,GAAN,CAAUS,GAArB;AAFJ,KAIE;AAAG,IAAA,SAAS,EAAC;AAAb,YAJF,CADF,EAQE,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEpB,OAAjB;AAA0B,IAAA,KAAK,EAAC;AAAhC,cARF,CAnBJ,CAHF,CADF;AAuCD,CA5DD;;AA8DA,eAAeL,KAAf","sourcesContent":["import React from 'react';\nimport axios from '../../../../axios-orders';\nimport Link from 'next/link';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\nimport Router from 'next/router';\nimport {\n  MDBBtn,\n  MDBCardBody,\n  MDBCardImage,\n  MDBCardTitle,\n  MDBCardText,\n  // MDBTooltip,\n  MDBCardFooter,\n  MDBIcon\n} from 'mdbreact';\n\ninterface IntProps {\n  userId: string;\n  obj: {\n    _id: string;\n    image: string;\n    name: string;\n    brand: string;\n    price: string;\n    description: string;\n    owner: string;\n  };\n}\n\nconst Table = (props: IntProps) => {\n  const router = useRouter();\n  const { id } = router.query;\n\n  const deleted = async () => {\n    const token = cookie.get('jwtToken');\n\n    axios\n      .delete(`/products/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      })\n      .then(() => {\n        Router.push('/products');\n      })\n      .catch(err => console.log(err));\n  };\n  console.log(props.userId);\n  console.log(props.obj.owner);\n\n  return (\n    <>\n      <MDBCardImage cascade top alt=\"\" src={props.obj.image} waves />\n\n      <MDBCardBody cascade className=\"text-center\">\n        <MDBCardTitle tag=\"h5\">\n          <strong>Name: </strong>\n          {props.obj.name}\n        </MDBCardTitle>\n        <MDBCardTitle tag=\"h5\">\n          <strong>Brand: </strong>\n          {props.obj.brand}\n        </MDBCardTitle>\n        <MDBCardTitle>\n          <span className=\"float-left\">\n            <span className=\"discount mx-2\">\n              â‚¦ {props.obj.price.tofixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}\n            </span>\n          </span>\n        </MDBCardTitle>\n        <MDBCardText>{props.obj.description}</MDBCardText>\n\n        {props.userId === props.obj.owner && (\n          <div>\n            <Link\n              href={`/edit?id=${props.obj._id}`}\n              as={`/edit/${props.obj._id}`}\n            >\n              <a className=\"btn btn-primary btn-sm\">Edit</a>\n            </Link>\n\n            <MDBBtn onClick={deleted} color=\"danger btn-sm\">\n              Delete\n            </MDBBtn>\n          </div>\n        )}\n      </MDBCardBody>\n    </>\n  );\n};\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}