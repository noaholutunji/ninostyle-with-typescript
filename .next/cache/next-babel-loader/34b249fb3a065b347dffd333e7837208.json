{"ast":null,"code":"import axios from '../../axios-orders';\nimport setAuthorizationToken from '../../utils/setAuthorization';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'js-cookie';\nimport { SET_CURRENT_USER } from './types';\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\nexport function logout() {\n  return dispatch => {\n    cookie.remove('jwtToken');\n    setAuthorizationToken(false);\n    dispatch(setCurrentUser({}));\n  };\n}\nexport function login(data) {\n  return async dispatch => {\n    const res = await axios.post('/login', data);\n    const token = res.data.token;\n    const user = res.data.user;\n    cookie.set('jwtToken', token);\n    cookie.set('user', user);\n    setAuthorizationToken(token);\n    dispatch(setCurrentUser(jwt.decode(token)));\n  };\n}","map":{"version":3,"sources":["/home/noah/Desktop/ninostyle-next-typescript/src/store/actions/authActions.ts"],"names":["axios","setAuthorizationToken","jwt","cookie","SET_CURRENT_USER","setCurrentUser","user","type","logout","dispatch","remove","login","data","res","post","token","set","decode"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,qBAAP,MAAkC,8BAAlC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,SAASC,gBAAT,QAAiC,SAAjC;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAAkC;AACvC,SAAO;AACLC,IAAAA,IAAI,EAAEH,gBADD;AAELE,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASE,MAAT,GAAkB;AACvB,SAAQC,QAAD,IAA0D;AAC/DN,IAAAA,MAAM,CAACO,MAAP,CAAc,UAAd;AACAT,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAQ,IAAAA,QAAQ,CAACJ,cAAc,CAAC,EAAD,CAAf,CAAR;AACD,GAJD;AAKD;AAED,OAAO,SAASM,KAAT,CAAeC,IAAf,EAA0B;AAC/B,SAAO,MAAOH,QAAP,IAAgE;AACrE,UAAMI,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAW,QAAX,EAAqBF,IAArB,CAAlB;AACA,UAAMG,KAAK,GAAGF,GAAG,CAACD,IAAJ,CAASG,KAAvB;AACA,UAAMT,IAAI,GAAGO,GAAG,CAACD,IAAJ,CAASN,IAAtB;AACAH,IAAAA,MAAM,CAACa,GAAP,CAAW,UAAX,EAAuBD,KAAvB;AACAZ,IAAAA,MAAM,CAACa,GAAP,CAAW,MAAX,EAAmBV,IAAnB;AACAL,IAAAA,qBAAqB,CAACc,KAAD,CAArB;AACAN,IAAAA,QAAQ,CAACJ,cAAc,CAACH,GAAG,CAACe,MAAJ,CAAWF,KAAX,CAAD,CAAf,CAAR;AACD,GARD;AASD","sourcesContent":["import axios from '../../axios-orders';\nimport setAuthorizationToken from '../../utils/setAuthorization';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'js-cookie';\n\nimport { SET_CURRENT_USER } from './types';\n\nexport function setCurrentUser(user: {}) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\n\nexport function logout() {\n  return (dispatch: (arg0: { type: string; user: {} }) => void) => {\n    cookie.remove('jwtToken');\n    setAuthorizationToken(false);\n    dispatch(setCurrentUser({}));\n  };\n}\n\nexport function login(data: any) {\n  return async (dispatch: (arg0: { type: string; user: {} }) => void) => {\n    const res = await axios.post('/login', data);\n    const token = res.data.token;\n    const user = res.data.user;\n    cookie.set('jwtToken', token);\n    cookie.set('user', user);\n    setAuthorizationToken(token);\n    dispatch(setCurrentUser(jwt.decode(token)));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}